import { useEffect } from 'react';import { useNavigate } from 'react-router-dom';import { useAuth } from '../context/AuthContext';export const useProtectedRoute = (requiredRole = null) => {const { user } = useAuth();const navigate = useNavigate();useEffect(() => {if (!user) {navigate('/login');return;}if (requiredRole && (!user.isAdmin || user.role !== requiredRole)) {navigate('/access-denied');}}, [user, navigate, requiredRole]);return user;};