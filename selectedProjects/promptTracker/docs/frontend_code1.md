# Frontend Code1

{
"files":{
"frontend/src/services/api.js":"import axios from 'axios';const API_URL='http://localhost:3000/api';const api=axios.create({baseURL:API_URL});api.interceptors.request.use((config)=>{const token=localStorage.getItem('token');if(token)config.headers.Authorization=`Bearer ${token}`;return config;});api.interceptors.response.use((response)=>response.data,(error)=>{if(error.response?.status===401){localStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});export default api;",
"frontend/src/services/auth.js":"import api from './api';export const login=async(credentials)=>{const response=await api.post('/auth/login',credentials);localStorage.setItem('token',response.token);return response;};export const register=async(userData)=>{const response=await api.post('/auth/register',userData);localStorage.setItem('token',response.token);return response;};export const logout=()=>{localStorage.removeItem('token');window.location.href='/login';};",
"frontend/src/context/AuthContext.js":"import React,{createContext,useState,useEffect} from 'react';import jwt_decode from 'jwt-decode';export const AuthContext=createContext();export const AuthProvider=({children})=>{const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const token=localStorage.getItem('token');if(token){try{const decoded=jwt_decode(token);setUser(decoded);}catch{localStorage.removeItem('token');}}setLoading(false);},[]);const value={user,setUser,loading};return<AuthContext.Provider value={value}>{children}</AuthContext.Provider>;};",
"frontend/src/hooks/useAuth.js":"import{useContext}from'react';import{AuthContext}from'../context/AuthContext';const useAuth=()=>{const context=useContext(AuthContext);if(!context)throw new Error('useAuth must be used within an AuthProvider');return context;};export default useAuth;",
"frontend/src/components/auth/Login.js":"import React from'react';import{Form}from'@rjsf/mui';import{useNavigate}from'react-router-dom';import{Box,Typography,Paper}from'@mui/material';import{login}from'../../services/auth';import validator from'@rjsf/validator-ajv8';const schema={type:'object',required:['email','password'],properties:{email:{type:'string',format:'email',title:'Email'},password:{type:'string',title:'Password',minLength:6}}};const Login=()=>{const navigate=useNavigate();const onSubmit=async({formData})=>{try{await login(formData);navigate('/dashboard');}catch(error){alert(error.response?.data?.message||'Login failed');}};return(<Box sx={{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'100vh'}}><Paper elevation={3} sx={{p:4,width:'100%',maxWidth:400}}><Typography variant='h5' sx={{mb:3}}>Login</Typography><Form schema={schema} validator={validator} onSubmit={onSubmit}/></Paper></Box>);};export default Login;",
"frontend/src/components/auth/Signup.js":"import React from'react';import{Form}from'@rjsf/mui';import{useNavigate}from'react-router-dom';import{Box,Typography,Paper}from'@mui/material';import{register}from'../../services/auth';import validator from'@rjsf/validator-ajv8';const schema={type:'object',required:['email','password'],properties:{email:{type:'string',format:'email',title:'Email'},password:{type:'string',title:'Password',minLength:6}}};const Signup=()=>{const navigate=useNavigate();const onSubmit=async({formData})=>{try{await register(formData);navigate('/dashboard');}catch(error){alert(error.response?.data?.message||'Registration failed');}};return(<Box sx={{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'100vh'}}><Paper elevation={3} sx={{p:4,width:'100%',maxWidth:400}}><Typography variant='h5' sx={{mb:3}}>Sign Up</Typography><Form schema={schema} validator={validator} onSubmit={onSubmit}/></Paper></Box>);};export default Signup;",
"frontend/src/components/common/Header.js":"import React,{useState}from'react';import{AppBar,Toolbar,Typography,IconButton,Menu,MenuItem,Avatar}from'@mui/material';import{useNavigate}from'react-router-dom';import useAuth from'../../hooks/useAuth';import{logout}from'../../services/auth';const Header=({title,menuItems})=>{const{user}=useAuth();const navigate=useNavigate();const[anchorEl,setAnchorEl]=useState(null);const handleMenu=(event)=>setAnchorEl(event.currentTarget);const handleClose=()=>setAnchorEl(null);const handleLogout=()=>{handleClose();logout();};const handleMenuClick=(path)=>{handleClose();navigate(path);};return(<AppBar position='static'><Toolbar><Typography variant='h6' component='div' sx={{flexGrow:1}}>{title}</Typography>{menuItems?.map((item)=>(<MenuItem key={item.path} onClick={()=>navigate(item.path)}>{item.label}</MenuItem>))}{user&&(<div><IconButton onClick={handleMenu}><Avatar/></IconButton><Menu anchorEl={anchorEl} open={Boolean(anchorEl)} onClose={handleClose}><MenuItem onClick={()=>handleMenuClick('/profile')}>Profile</MenuItem><MenuItem onClick={handleLogout}>Logout</MenuItem></Menu></div>)}</Toolbar></AppBar>);};export default Header;"
},
"commands":["npx create-react-app frontend --template typescript","cd frontend && npm install @mui/material @emotion/react @emotion/styled @mui/icons-material","cd frontend && npm install @mui/x-data-grid recharts","cd frontend && npm install axios react-router-dom@6.26.2 jwt-decode","cd frontend && npm install @rjsf/core @rjsf/utils @rjsf/validator-ajv8 @rjsf/mui"]
}