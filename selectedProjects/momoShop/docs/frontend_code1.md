# Frontend Code1

{
"files":{
"frontend/src/services/api.js":"import axios from 'axios';const api=axios.create({baseURL:'http://localhost:3000/api'});api.interceptors.request.use((config)=>{const token=localStorage.getItem('token');if(token)config.headers.Authorization=`Bearer ${token}`;return config;});api.interceptors.response.use((response)=>response.data,(error)=>{if(error.response?.status===401){localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';}return Promise.reject(error);});export const login=async(credentials)=>{const response=await api.post('/login',credentials);localStorage.setItem('token',response.token);localStorage.setItem('user',JSON.stringify(response.user));return response;};export default api;",
"frontend/src/context/AuthContext.js":"import React,{createContext,useState,useContext,useEffect}from'react';import{useNavigate}from'react-router-dom';const AuthContext=createContext(null);export const AuthProvider=({children})=>{const[user,setUser]=useState(null);const navigate=useNavigate();useEffect(()=>{const storedUser=localStorage.getItem('user');if(storedUser)setUser(JSON.parse(storedUser));},[]);const login=(userData)=>{setUser(userData);localStorage.setItem('user',JSON.stringify(userData));navigate('/dashboard');};const logout=()=>{setUser(null);localStorage.removeItem('user');localStorage.removeItem('token');navigate('/login');};return(<AuthContext.Provider value={{user,login,logout}}>{children}</AuthContext.Provider>);};export const useAuth=()=>useContext(AuthContext);",
"frontend/src/hooks/useLoadingState.js":"import{useState}from'react';export const useLoadingState=()=>{const[isLoading,setIsLoading]=useState(false);const startLoading=()=>setIsLoading(true);const stopLoading=()=>setIsLoading(false);return{isLoading,startLoading,stopLoading};};",
"frontend/src/components/auth/LoginForm.js":"import React,{useState}from'react';import{Box,Button,TextField,Typography,Alert}from'@mui/material';import{useAuth}from'../../context/AuthContext';import{login}from'../../services/api';import{useLoadingState}from'../../hooks/useLoadingState';export const LoginForm=()=>{const{login:authLogin}=useAuth();const{isLoading,startLoading,stopLoading}=useLoadingState();const[error,setError]=useState('');const[formData,setFormData]=useState({email:'',password:''});const handleSubmit=async(e)=>{e.preventDefault();try{startLoading();const response=await login(formData);authLogin(response.user);}catch(err){setError(err.response?.data?.message||'Login failed');}finally{stopLoading();}};return(<Box component='form' onSubmit={handleSubmit} sx={{mt:1}}>{error&&<Alert severity='error' sx={{mb:2}}>{error}</Alert>}<TextField margin='normal' required fullWidth label='Email Address' name='email' autoComplete='email' autoFocus value={formData.email} onChange={(e)=>setFormData({...formData,email:e.target.value})}/><TextField margin='normal' required fullWidth name='password' label='Password' type='password' autoComplete='current-password' value={formData.password} onChange={(e)=>setFormData({...formData,password:e.target.value})}/><Button type='submit' fullWidth variant='contained' sx={{mt:3,mb:2}} disabled={isLoading}>Sign In</Button></Box>);};",
"frontend/src/components/auth/SignupForm.js":"import React,{useState}from'react';import{Box,Button,TextField,Typography,Alert}from'@mui/material';import{useNavigate}from'react-router-dom';import api from'../../services/api';import{useLoadingState}from'../../hooks/useLoadingState';export const SignupForm=()=>{const navigate=useNavigate();const{isLoading,startLoading,stopLoading}=useLoadingState();const[error,setError]=useState('');const[formData,setFormData]=useState({name:'',email:'',password:''});const handleSubmit=async(e)=>{e.preventDefault();try{startLoading();await api.post('/users',formData);navigate('/login');}catch(err){setError(err.response?.data?.message||'Signup failed');}finally{stopLoading();}};return(<Box component='form' onSubmit={handleSubmit} sx={{mt:1}}>{error&&<Alert severity='error' sx={{mb:2}}>{error}</Alert>}<TextField margin='normal' required fullWidth label='Name' name='name' autoFocus value={formData.name} onChange={(e)=>setFormData({...formData,name:e.target.value})}/><TextField margin='normal' required fullWidth label='Email Address' name='email' autoComplete='email' value={formData.email} onChange={(e)=>setFormData({...formData,email:e.target.value})}/><TextField margin='normal' required fullWidth name='password' label='Password' type='password' autoComplete='new-password' value={formData.password} onChange={(e)=>setFormData({...formData,password:e.target.value})}/><Button type='submit' fullWidth variant='contained' sx={{mt:3,mb:2}} disabled={isLoading}>Sign Up</Button></Box>);};",
"frontend/src/components/layout/Header.js":"import React,{useState}from'react';import{AppBar,Toolbar,Typography,IconButton,Menu,MenuItem,Avatar,Box}from'@mui/material';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';export const Header=({title,menuItems})=>{const{user,logout}=useAuth();const navigate=useNavigate();const[anchorEl,setAnchorEl]=useState(null);const handleMenu=(event)=>setAnchorEl(event.currentTarget);const handleClose=()=>setAnchorEl(null);const handleLogout=()=>{handleClose();logout();};const handleProfile=()=>{handleClose();navigate('/profile');};return(<AppBar position='static'><Toolbar><Typography variant='h6' component='div' sx={{flexGrow:1}}>{title}</Typography><Box sx={{display:'flex',gap:2}}>{menuItems?.map((item)=>(<Typography key={item.path} sx={{cursor:'pointer'}} onClick={()=>navigate(item.path)}>{item.label}</Typography>))}</Box><IconButton onClick={handleMenu} color='inherit'><Avatar sx={{bgcolor:'secondary.main'}}>{user?.name?.[0]}</Avatar></IconButton><Menu anchorEl={anchorEl} open={Boolean(anchorEl)} onClose={handleClose}><MenuItem onClick={handleProfile}>Profile</MenuItem><MenuItem onClick={handleLogout}>Logout</MenuItem></Menu></Toolbar></AppBar>);};"
},
"commands":["npx create-react-app frontend --template typescript","cd frontend && npm install @mui/material @emotion/react @emotion/styled @mui/icons-material","cd frontend && npm install axios react-router-dom @tanstack/react-query","cd frontend && npm install @rjsf/core @rjsf/utils @rjsf/validator-ajv8 @rjsf/mui","cd frontend && npm install @mui/x-data-grid recharts"]
}