require('dotenv').config();const express = require('express');const cors = require('cors');const {sequelize} = require('./models');const routes = require('./routes');const seed = require('./utils/seeder');const app = express();app.use(cors());app.use(express.json());app.use('/api',routes);const start = async () => {try{await sequelize.sync();const models = await sequelize.models;const tableCount = await Promise.all(Object.values(models).map(model => model.count()));if(tableCount.every(count => count === 0))await seed();app.listen(process.env.PORT,() => console.log(`Server running on port ${process.env.PORT}`))}catch(error){console.error('Server error:',error)}};start();