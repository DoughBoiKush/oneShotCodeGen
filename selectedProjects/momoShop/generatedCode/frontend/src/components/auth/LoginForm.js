import React,{useState}from'react';import{Box,Button,TextField,Typography,Alert}from'@mui/material';import{useAuth}from'../../context/AuthContext';import{login}from'../../services/api';import{useLoadingState}from'../../hooks/useLoadingState';export const LoginForm=()=>{const{login:authLogin}=useAuth();const{isLoading,startLoading,stopLoading}=useLoadingState();const[error,setError]=useState('');const[formData,setFormData]=useState({email:'',password:''});const handleSubmit=async(e)=>{e.preventDefault();try{startLoading();const response=await login(formData);authLogin(response.user);}catch(err){setError(err.response?.data?.message||'Login failed');}finally{stopLoading();}};return(<Box component='form' onSubmit={handleSubmit} sx={{mt:1}}>{error&&<Alert severity='error' sx={{mb:2}}>{error}</Alert>}<TextField margin='normal' required fullWidth label='Email Address' name='email' autoComplete='email' autoFocus value={formData.email} onChange={(e)=>setFormData({...formData,email:e.target.value})}/><TextField margin='normal' required fullWidth name='password' label='Password' type='password' autoComplete='current-password' value={formData.password} onChange={(e)=>setFormData({...formData,password:e.target.value})}/><Button type='submit' fullWidth variant='contained' sx={{mt:3,mb:2}} disabled={isLoading}>Sign In</Button></Box>);};